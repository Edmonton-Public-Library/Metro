<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_25) on Fri Nov 15 23:52:59 MST 2013 -->
<meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
<title>MeCardPolicy (Metro (MeCard) Server Documentation)</title>
<meta name="date" content="2013-11-15">
<link rel="stylesheet" type="text/css" href="../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="MeCardPolicy (Metro (MeCard) Server Documentation)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/MeCardPolicy.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-files/index-1.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../site/HorizonNormalizer.html" title="class in site"><span class="strong">Prev Class</span></a></li>
<li><a href="../site/SymphonyNormalizer.html" title="class in site"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../index.html?site/MeCardPolicy.html" target="_top">Frames</a></li>
<li><a href="MeCardPolicy.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">site</div>
<h2 title="Class MeCardPolicy" class="title">Class MeCardPolicy</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>site.MeCardPolicy</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="strong">MeCardPolicy</span>
extends java.lang.Object</pre>
<div class="block">This class needs to be sub-classed by all libraries. All customer's must meet 
 the defined MeCard policy rules. They must be resident, not reciprocal, must
 be of minimum age of 18, must have an email address, must be in good standing
 with their home library, must have all mandatory account information present
 and valid (within reason), and all must have a valid membership expiry date.</div>
<dl><dt><span class="strong">Author:</span></dt>
  <dd>Andrew Nisbet <anisbet@epl.ca></dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static boolean</code></td>
<td class="colLast"><code><strong><a href="../site/MeCardPolicy.html#DEBUG">DEBUG</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected static java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../site/MeCardPolicy.html#failCompletenessTest">failCompletenessTest</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../site/MeCardPolicy.html#failEmailTest">failEmailTest</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected static java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../site/MeCardPolicy.html#failExpiryTest">failExpiryTest</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../site/MeCardPolicy.html#failGoodstandingTest">failGoodstandingTest</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected static java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../site/MeCardPolicy.html#failLostCardTest">failLostCardTest</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../site/MeCardPolicy.html#failMinAgeTest">failMinAgeTest</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected static java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../site/MeCardPolicy.html#failReciprocalTest">failReciprocalTest</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../site/MeCardPolicy.html#failResidencyTest">failResidencyTest</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected java.util.List&lt;java.lang.String&gt;</code></td>
<td class="colLast"><code><strong><a href="../site/MeCardPolicy.html#juvenileTypes">juvenileTypes</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected java.util.List&lt;java.lang.String&gt;</code></td>
<td class="colLast"><code><strong><a href="../site/MeCardPolicy.html#lostCardSentinals">lostCardSentinals</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../site/MeCardPolicy.html#MAXIMUM_EXPIRY_DAYS">MAXIMUM_EXPIRY_DAYS</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../site/MeCardPolicy.html#MINIMUM_EXPIRY_DAYS">MINIMUM_EXPIRY_DAYS</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../site/MeCardPolicy.html#MINIMUM_YEARS_OF_AGE">MINIMUM_YEARS_OF_AGE</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected java.util.List&lt;java.lang.String&gt;</code></td>
<td class="colLast"><code><strong><a href="../site/MeCardPolicy.html#nonResidentTypes">nonResidentTypes</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected java.util.List&lt;java.lang.String&gt;</code></td>
<td class="colLast"><code><strong><a href="../site/MeCardPolicy.html#notInGoodStandingStandingSentinal">notInGoodStandingStandingSentinal</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected java.util.List&lt;java.lang.String&gt;</code></td>
<td class="colLast"><code><strong><a href="../site/MeCardPolicy.html#reciprocalTypes">reciprocalTypes</a></strong></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="../site/MeCardPolicy.html" title="class in site">MeCardPolicy</a></code></td>
<td class="colLast"><code><strong><a href="../site/MeCardPolicy.html#getInstanceOf(boolean)">getInstanceOf</a></strong>(boolean&nbsp;debug)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../site/MeCardPolicy.html#isEmailable(mecard.customer.Customer, api.CustomerMessage, java.lang.StringBuilder)">isEmailable</a></strong>(<a href="../mecard/customer/Customer.html" title="class in mecard.customer">Customer</a>&nbsp;customer,
           <a href="../api/CustomerMessage.html" title="interface in api">CustomerMessage</a>&nbsp;meta,
           java.lang.StringBuilder&nbsp;s)</code>
<div class="block">Tests and sets the customer's email flag.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../site/MeCardPolicy.html#isInGoodStanding(mecard.customer.Customer, api.CustomerMessage, java.lang.StringBuilder)">isInGoodStanding</a></strong>(<a href="../mecard/customer/Customer.html" title="class in mecard.customer">Customer</a>&nbsp;customer,
                <a href="../api/CustomerMessage.html" title="interface in api">CustomerMessage</a>&nbsp;message,
                java.lang.StringBuilder&nbsp;s)</code>
<div class="block">Tests if the customer is in good standing at their home library.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../site/MeCardPolicy.html#isLostCard(mecard.customer.Customer, api.CustomerMessage, java.lang.StringBuilder)">isLostCard</a></strong>(<a href="../mecard/customer/Customer.html" title="class in mecard.customer">Customer</a>&nbsp;customer,
          <a href="../api/CustomerMessage.html" title="interface in api">CustomerMessage</a>&nbsp;meta,
          java.lang.StringBuilder&nbsp;s)</code>
<div class="block">When a customer reports a lost card, the home library should set this flag
 on the customer's account.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../site/MeCardPolicy.html#isMinimumAge(mecard.customer.Customer, api.CustomerMessage, java.lang.StringBuilder)">isMinimumAge</a></strong>(<a href="../mecard/customer/Customer.html" title="class in mecard.customer">Customer</a>&nbsp;customer,
            <a href="../api/CustomerMessage.html" title="interface in api">CustomerMessage</a>&nbsp;meta,
            java.lang.StringBuilder&nbsp;s)</code>
<div class="block">Another way to compute the customer age.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../site/MeCardPolicy.html#isMinimumAgeByDate(mecard.customer.Customer, api.CustomerMessage, java.lang.StringBuilder)">isMinimumAgeByDate</a></strong>(<a href="../mecard/customer/Customer.html" title="class in mecard.customer">Customer</a>&nbsp;customer,
                  <a href="../api/CustomerMessage.html" title="interface in api">CustomerMessage</a>&nbsp;meta,
                  java.lang.StringBuilder&nbsp;s)</code>
<div class="block">Tests if the customer is of minimum age.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../site/MeCardPolicy.html#isReciprocal(mecard.customer.Customer, api.CustomerMessage, java.lang.StringBuilder)">isReciprocal</a></strong>(<a href="../mecard/customer/Customer.html" title="class in mecard.customer">Customer</a>&nbsp;customer,
            <a href="../api/CustomerMessage.html" title="interface in api">CustomerMessage</a>&nbsp;meta,
            java.lang.StringBuilder&nbsp;s)</code>
<div class="block">Each library must decide how they compute if a customer is a reciprocal
 customer.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../site/MeCardPolicy.html#isResident(mecard.customer.Customer, api.CustomerMessage, java.lang.StringBuilder)">isResident</a></strong>(<a href="../mecard/customer/Customer.html" title="class in mecard.customer">Customer</a>&nbsp;customer,
          <a href="../api/CustomerMessage.html" title="interface in api">CustomerMessage</a>&nbsp;message,
          java.lang.StringBuilder&nbsp;s)</code>
<div class="block">Each library must decide how they compute if a customer is a resident
 customer.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../site/MeCardPolicy.html#isValidCustomerData(mecard.customer.Customer, java.lang.StringBuilder)">isValidCustomerData</a></strong>(<a href="../mecard/customer/Customer.html" title="class in mecard.customer">Customer</a>&nbsp;customer,
                   java.lang.StringBuilder&nbsp;s)</code>
<div class="block">Tests and sets customer is valid flag.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../site/MeCardPolicy.html#isValidExpiryDate(mecard.customer.Customer, api.CustomerMessage, java.lang.StringBuilder)">isValidExpiryDate</a></strong>(<a href="../mecard/customer/Customer.html" title="class in mecard.customer">Customer</a>&nbsp;customer,
                 <a href="../api/CustomerMessage.html" title="interface in api">CustomerMessage</a>&nbsp;meta,
                 java.lang.StringBuilder&nbsp;s)</code>
<div class="block">Tests if the customer has a valid expiry date.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../site/MeCardPolicy.html#normalizeCustomerFields(mecard.customer.Customer)">normalizeCustomerFields</a></strong>(<a href="../mecard/customer/Customer.html" title="class in mecard.customer">Customer</a>&nbsp;customer)</code>
<div class="block">Standardizes the field data for transmission to other libraries.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="MINIMUM_YEARS_OF_AGE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>MINIMUM_YEARS_OF_AGE</h4>
<pre>public static final&nbsp;int MINIMUM_YEARS_OF_AGE</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../constant-values.html#site.MeCardPolicy.MINIMUM_YEARS_OF_AGE">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="MINIMUM_EXPIRY_DAYS">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>MINIMUM_EXPIRY_DAYS</h4>
<pre>public static final&nbsp;int MINIMUM_EXPIRY_DAYS</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../constant-values.html#site.MeCardPolicy.MINIMUM_EXPIRY_DAYS">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="MAXIMUM_EXPIRY_DAYS">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>MAXIMUM_EXPIRY_DAYS</h4>
<pre>public static final&nbsp;int MAXIMUM_EXPIRY_DAYS</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../constant-values.html#site.MeCardPolicy.MAXIMUM_EXPIRY_DAYS">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="failMinAgeTest">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>failMinAgeTest</h4>
<pre>protected static&nbsp;java.lang.String failMinAgeTest</pre>
</li>
</ul>
<a name="failLostCardTest">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>failLostCardTest</h4>
<pre>protected static&nbsp;java.lang.String failLostCardTest</pre>
</li>
</ul>
<a name="failGoodstandingTest">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>failGoodstandingTest</h4>
<pre>protected static&nbsp;java.lang.String failGoodstandingTest</pre>
</li>
</ul>
<a name="failReciprocalTest">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>failReciprocalTest</h4>
<pre>protected static&nbsp;java.lang.String failReciprocalTest</pre>
</li>
</ul>
<a name="failResidencyTest">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>failResidencyTest</h4>
<pre>protected static&nbsp;java.lang.String failResidencyTest</pre>
</li>
</ul>
<a name="failEmailTest">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>failEmailTest</h4>
<pre>protected static&nbsp;java.lang.String failEmailTest</pre>
</li>
</ul>
<a name="failExpiryTest">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>failExpiryTest</h4>
<pre>protected static&nbsp;java.lang.String failExpiryTest</pre>
</li>
</ul>
<a name="failCompletenessTest">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>failCompletenessTest</h4>
<pre>protected static&nbsp;java.lang.String failCompletenessTest</pre>
</li>
</ul>
<a name="DEBUG">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DEBUG</h4>
<pre>protected static&nbsp;boolean DEBUG</pre>
</li>
</ul>
<a name="nonResidentTypes">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>nonResidentTypes</h4>
<pre>protected&nbsp;java.util.List&lt;java.lang.String&gt; nonResidentTypes</pre>
</li>
</ul>
<a name="reciprocalTypes">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reciprocalTypes</h4>
<pre>protected&nbsp;java.util.List&lt;java.lang.String&gt; reciprocalTypes</pre>
</li>
</ul>
<a name="juvenileTypes">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>juvenileTypes</h4>
<pre>protected&nbsp;java.util.List&lt;java.lang.String&gt; juvenileTypes</pre>
</li>
</ul>
<a name="notInGoodStandingStandingSentinal">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>notInGoodStandingStandingSentinal</h4>
<pre>protected&nbsp;java.util.List&lt;java.lang.String&gt; notInGoodStandingStandingSentinal</pre>
</li>
</ul>
<a name="lostCardSentinals">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>lostCardSentinals</h4>
<pre>protected&nbsp;java.util.List&lt;java.lang.String&gt; lostCardSentinals</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getInstanceOf(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getInstanceOf</h4>
<pre>public static&nbsp;<a href="../site/MeCardPolicy.html" title="class in site">MeCardPolicy</a>&nbsp;getInstanceOf(boolean&nbsp;debug)</pre>
</li>
</ul>
<a name="normalizeCustomerFields(mecard.customer.Customer)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>normalizeCustomerFields</h4>
<pre>public&nbsp;void&nbsp;normalizeCustomerFields(<a href="../mecard/customer/Customer.html" title="class in mecard.customer">Customer</a>&nbsp;customer)</pre>
<div class="block">Standardizes the field data for transmission to other libraries. This 
 ensures that all libraries get proper case information.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>customer</code> - </dd></dl>
</li>
</ul>
<a name="isResident(mecard.customer.Customer, api.CustomerMessage, java.lang.StringBuilder)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isResident</h4>
<pre>public&nbsp;boolean&nbsp;isResident(<a href="../mecard/customer/Customer.html" title="class in mecard.customer">Customer</a>&nbsp;customer,
                 <a href="../api/CustomerMessage.html" title="interface in api">CustomerMessage</a>&nbsp;message,
                 java.lang.StringBuilder&nbsp;s)</pre>
<div class="block">Each library must decide how they compute if a customer is a resident
 customer. Usually this is done by comparing the btype of profile of the
 customer.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>customer</code> - </dd><dd><code>message</code> - CustomerMessage any extra data about the customer account like a SIP response.</dd><dd><code>s</code> - the return message if the customer failed this test.</dd>
<dt><span class="strong">Returns:</span></dt><dd>true if the customer is resident to their home library
 and false otherwise.</dd></dl>
</li>
</ul>
<a name="isReciprocal(mecard.customer.Customer, api.CustomerMessage, java.lang.StringBuilder)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isReciprocal</h4>
<pre>public&nbsp;boolean&nbsp;isReciprocal(<a href="../mecard/customer/Customer.html" title="class in mecard.customer">Customer</a>&nbsp;customer,
                   <a href="../api/CustomerMessage.html" title="interface in api">CustomerMessage</a>&nbsp;meta,
                   java.lang.StringBuilder&nbsp;s)</pre>
<div class="block">Each library must decide how they compute if a customer is a reciprocal
 customer. Usually this is done by comparing the btype of profile of the
 customer.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>customer</code> - </dd><dd><code>meta</code> - any extra data about the customer account like a SIP response.</dd><dd><code>s</code> - the return message if the customer failed this test.</dd>
<dt><span class="strong">Returns:</span></dt><dd>true if the customer is a reciprocal member at their home library
 and false otherwise.</dd></dl>
</li>
</ul>
<a name="isInGoodStanding(mecard.customer.Customer, api.CustomerMessage, java.lang.StringBuilder)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isInGoodStanding</h4>
<pre>public&nbsp;boolean&nbsp;isInGoodStanding(<a href="../mecard/customer/Customer.html" title="class in mecard.customer">Customer</a>&nbsp;customer,
                       <a href="../api/CustomerMessage.html" title="interface in api">CustomerMessage</a>&nbsp;message,
                       java.lang.StringBuilder&nbsp;s)</pre>
<div class="block">Tests if the customer is in good standing at their home library. The 
 definition of good standing is not restricted by Metro federation.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>customer</code> - </dd><dd><code>message</code> - any extra data about the customer account like a SIP response.</dd><dd><code>s</code> - the return message if the customer failed this test.</dd>
<dt><span class="strong">Returns:</span></dt><dd>true if the customer is in good standing at home library and
 false otherwise.</dd></dl>
</li>
</ul>
<a name="isMinimumAge(mecard.customer.Customer, api.CustomerMessage, java.lang.StringBuilder)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isMinimumAge</h4>
<pre>public&nbsp;boolean&nbsp;isMinimumAge(<a href="../mecard/customer/Customer.html" title="class in mecard.customer">Customer</a>&nbsp;customer,
                   <a href="../api/CustomerMessage.html" title="interface in api">CustomerMessage</a>&nbsp;meta,
                   java.lang.StringBuilder&nbsp;s)</pre>
<div class="block">Another way to compute the customer age. If the library doesn't collect
 DOB for customers, or they do it inconsistently this method provides
 checking of the customers profile (or btype) as a test for minimum age.
 If your library doesn't have birth dates for customers, or they are kept
 inconsistently, override this method in your library's strategy so that
 the customer can always be checked for age restrictions.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>customer</code> - the customer as a list of fields formatted from raw ILS
 query.</dd><dd><code>meta</code> - The extra customer data that the ILS returned when it was
 queried with getCustomer, but is not required by MeCard customer
 creation. Things like PROFILE and bType.</dd><dd><code>s</code> - the return message if the customer failed this test.</dd>
<dt><span class="strong">Returns:</span></dt><dd>true if customer is of minimum age and false otherwise.</dd></dl>
</li>
</ul>
<a name="isMinimumAgeByDate(mecard.customer.Customer, api.CustomerMessage, java.lang.StringBuilder)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isMinimumAgeByDate</h4>
<pre>public&nbsp;boolean&nbsp;isMinimumAgeByDate(<a href="../mecard/customer/Customer.html" title="class in mecard.customer">Customer</a>&nbsp;customer,
                         <a href="../api/CustomerMessage.html" title="interface in api">CustomerMessage</a>&nbsp;meta,
                         java.lang.StringBuilder&nbsp;s)</pre>
<div class="block">Tests if the customer is of minimum age. If a date field is available
 this method will compute how many years old the customer is. If the date
 field is empty, compute using the abstract method isMinimumAge().
 Use this if you don't have any profiles that separate juveniles from Adults.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>customer</code> - </dd><dd><code>meta</code> - The extra customer data that the ILS returned when it was
 queried with getCustomer, but is not required by MeCard customer
 creation. Things like PROFILE and bType. Usually a SIP2 message.</dd><dd><code>s</code> - the return message if the customer failed this test.</dd>
<dt><span class="strong">Returns:</span></dt><dd>true if the customer was of minimum age and false otherwise.</dd></dl>
</li>
</ul>
<a name="isEmailable(mecard.customer.Customer, api.CustomerMessage, java.lang.StringBuilder)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isEmailable</h4>
<pre>public&nbsp;boolean&nbsp;isEmailable(<a href="../mecard/customer/Customer.html" title="class in mecard.customer">Customer</a>&nbsp;customer,
                  <a href="../api/CustomerMessage.html" title="interface in api">CustomerMessage</a>&nbsp;meta,
                  java.lang.StringBuilder&nbsp;s)</pre>
<div class="block">Tests and sets the customer's email flag.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>customer</code> - </dd><dd><code>meta</code> - The extra customer data that the ILS returned when it was
 queried with getCustomer, but is not required by MeCard customer
 creation. Things like PROFILE and bType.</dd><dd><code>s</code> - the return message if the customer failed this test.</dd>
<dt><span class="strong">Returns:</span></dt><dd>true if the customer has an email and false otherwise.</dd></dl>
</li>
</ul>
<a name="isValidCustomerData(mecard.customer.Customer, java.lang.StringBuilder)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isValidCustomerData</h4>
<pre>public&nbsp;boolean&nbsp;isValidCustomerData(<a href="../mecard/customer/Customer.html" title="class in mecard.customer">Customer</a>&nbsp;customer,
                          java.lang.StringBuilder&nbsp;s)</pre>
<div class="block">Tests and sets customer is valid flag. From a customer to be valid they 
 must have all the mandatory fields filled with valid information. Mandatory
 fields are ID, PIN, Name, Street, City, Province, Postal code, Email, 
 and valid expiry date. A valid expiry date is some date in the future not
 less than tomorrow.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>customer</code> - </dd><dd><code>s</code> - the buffer where potential error messages are placed.</dd>
<dt><span class="strong">Returns:</span></dt><dd>true if the customer is valid and false otherwise.</dd></dl>
</li>
</ul>
<a name="isValidExpiryDate(mecard.customer.Customer, api.CustomerMessage, java.lang.StringBuilder)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isValidExpiryDate</h4>
<pre>public&nbsp;boolean&nbsp;isValidExpiryDate(<a href="../mecard/customer/Customer.html" title="class in mecard.customer">Customer</a>&nbsp;customer,
                        <a href="../api/CustomerMessage.html" title="interface in api">CustomerMessage</a>&nbsp;meta,
                        java.lang.StringBuilder&nbsp;s)</pre>
<div class="block">Tests if the customer has a valid expiry date.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>customer</code> - </dd><dd><code>meta</code> - the message received that contains additional customer information
 typically a SIP response.</dd><dd><code>s</code> - the return message if the customer failed this test.</dd>
<dt><span class="strong">Returns:</span></dt><dd>true if customer's expiry is at least tomorrow and at most 365
 days from now.</dd></dl>
</li>
</ul>
<a name="isLostCard(mecard.customer.Customer, api.CustomerMessage, java.lang.StringBuilder)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>isLostCard</h4>
<pre>public&nbsp;boolean&nbsp;isLostCard(<a href="../mecard/customer/Customer.html" title="class in mecard.customer">Customer</a>&nbsp;customer,
                 <a href="../api/CustomerMessage.html" title="interface in api">CustomerMessage</a>&nbsp;meta,
                 java.lang.StringBuilder&nbsp;s)</pre>
<div class="block">When a customer reports a lost card, the home library should set this flag
 on the customer's account. The MeCard web site can also tell if a previously
 registered customer is returning to register a lost card. If so, the customer's
 lost card flag should be set and it is upto the library what they do with it.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>customer</code> - The customer information as will be inserted into the guest ILS.</dd><dd><code>meta</code> - additional information from the ILS that is not sent to the guest
 library, stuff like their profile and number of holds etc.</dd><dd><code>s</code> - the return message if the customer failed this test.</dd>
<dt><span class="strong">Returns:</span></dt><dd>true if this account is a lost card.</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../mecard/customer/Customer.html" title="class in mecard.customer"><code>Customer</code></a></dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/MeCardPolicy.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-files/index-1.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../site/HorizonNormalizer.html" title="class in site"><span class="strong">Prev Class</span></a></li>
<li><a href="../site/SymphonyNormalizer.html" title="class in site"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../index.html?site/MeCardPolicy.html" target="_top">Frames</a></li>
<li><a href="MeCardPolicy.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
